<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>KI-Präsentation Hugging Face</title>
<style>
  body, html {margin:0; padding:0; font-family:sans-serif; background:#1e1e2f; color:#fff;}
  .slide {display:none; padding:40px; min-height:100vh; box-sizing:border-box;}
  .slide.active {display:block;}
  h1 {font-size:36px; margin-bottom:20px;}
  p {font-size:20px;}
  #nav {position:fixed; bottom:20px; left:50%; transform:translateX(-50%);}
  button {padding:10px 20px; font-size:16px; margin:0 5px; cursor:pointer;}
  #inputSection {padding:50px; text-align:center;}
  input {padding:10px; font-size:18px; width:300px;}
  #generateBtn {padding:10px 20px; font-size:18px; margin-left:10px; cursor:pointer;}
  
  /* Loading Animation */
  #loading {display:none; text-align:center; margin-top:50px;}
  .dot {display:inline-block; width:15px; height:15px; margin:5px; background:#fff; border-radius:50%; animation: bounce 1s infinite;}
  .dot:nth-child(2){animation-delay:0.2s;}
  .dot:nth-child(3){animation-delay:0.4s;}
  @keyframes bounce {
    0%, 80%, 100% { transform: scale(0); }
    40% { transform: scale(1); }
  }
</style>
</head>
<body>

<div id="inputSection">
  <h1>KI-Präsentation Generator</h1>
  <input type="text" id="topic" placeholder="Thema eingeben">
  <button id="generateBtn">Generieren</button>
  <p style="font-size:14px; margin-top:10px;">Die KI erzeugt für jede Folie automatisch Text.</p>
</div>

<div id="loading">
  <p>Die KI generiert deine Präsentation…</p>
  <div class="dot"></div>
  <div class="dot"></div>
  <div class="dot"></div>
</div>

<div id="presentation"></div>

<div id="nav">
  <button id="prevBtn">← Zurück</button>
  <button id="nextBtn">Weiter →</button>
</div>

<script>
const presentation = document.getElementById('presentation');
const prevBtn = document.getElementById('prevBtn');
const nextBtn = document.getElementById('nextBtn');
const loading = document.getElementById('loading');
let currentSlide = 0;

function showSlide(index){
  const slides = document.querySelectorAll('.slide');
  slides.forEach(s => s.classList.remove('active'));
  if(slides[index]) slides[index].classList.add('active');
  currentSlide = index;
}

prevBtn.onclick = () => showSlide(currentSlide -1);
nextBtn.onclick = () => showSlide(currentSlide +1);

// Hugging Face Text Generation (öffentliches Modell, kein API-Key nötig)
async function generateText(prompt) {
  const response = await fetch("https://api-inference.huggingface.co/models/gpt2", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ inputs: prompt, options: { wait_for_model: true, use_cache: true } })
  });
  const data = await response.json();
  if (data.error) return "Fehler beim Generieren";
  return data[0].generated_text;
}

document.getElementById('generateBtn').onclick = async () => {
  const topic = document.getElementById('topic').value.trim();
  if(!topic) return alert('Bitte ein Thema eingeben.');
  
  document.getElementById('inputSection').style.display = 'none';
  loading.style.display = 'block';
  presentation.innerHTML = '';

  const slidesTitles = ["Einführung", "Hintergrund", "Hauptpunkte", "Beispiele", "Fazit"];

  for(let title of slidesTitles){
    const prompt = `Schreibe einen kurzen Präsentationstext über "${topic}" für die Folie "${title}".`;
    const text = await generateText(prompt);

    const div = document.createElement('div');
    div.className = 'slide';
    div.innerHTML = `<h1>${title}</h1><p>${text}</p>
      <img src="https://source.unsplash.com/800x400/?${encodeURIComponent(topic)}&sig=${Math.floor(Math.random()*1000)}" alt="${topic}">`;
    presentation.appendChild(div);
  }

  loading.style.display = 'none';
  showSlide(0);
};
</script>

</body>
</html>